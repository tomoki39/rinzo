# Rinzo アプリケーション仕様書
## 全世界言語マップ

## 1. プロジェクト概要

### 1.1 サービス名
**Rinzo** - "Explore the world's knowledge territories"

**名前の由来**: 間宮林蔵（1780-1844）江戸時代の探検家・地理学者から命名

### 1.2 コンセプト
全世界の言語分布を都市・村落レベルで詳細に表示し、知的好奇心を満たす情報提供を行うWebアプリケーション。Google MapsとWikipediaを組み合わせたような、知識探索型のインタラクティブプラットフォーム。

### 1.3 ターゲットユーザー
- **主要ターゲット**: 知的好奇心が旺盛な一般ユーザー
- **セカンダリターゲット**: 言語学研究者・学生、地理学愛好家
- **地域**: 全世界（多言語対応）

### 1.4 目標
- 言語の多様性の可視化
- 直感的な知識探索体験の提供
- 学術的価値と一般向けアクセシビリティの両立

## 2. 基本仕様

### 2.1 表示範囲
- **地理的範囲**: 全世界
- **詳細度**: 都市・村落レベル
- **対応言語**: 日本語、英語（将来的に多言語展開）

### 2.2 基本機能

#### 2.2.1 マップ表示
- インタラクティブな世界地図（ズーム・パン対応）
- 言語分布の色分け表示
- 複数表示モードの切り替え

#### 2.2.2 検索・フィルタ機能
- 言語名による検索
- 言語ファミリー別フィルタ
- 地域別フィルタ
- 話者数範囲での絞り込み

#### 2.2.3 情報表示
- 地域クリック時の詳細情報表示
- 言語情報の段階的表示（基本→詳細）

## 3. 詳細仕様

### 3.1 データ構造

#### 3.1.1 基本情報（常時表示）
```json
{
  "language_name": {
    "native": "日本語",
    "english": "Japanese",
    "alternative_names": ["にほんご"]
  },
  "speakers": {
    "total": 125000000,
    "native": 125000000,
    "second_language": 0
  },
  "geographic_distribution": {
    "countries": ["JP"],
    "regions": ["関東", "関西", "九州"],
    "coordinates": [
      {"lat": 35.6762, "lng": 139.6503, "area": "東京"},
      {"lat": 34.6937, "lng": 135.5023, "area": "大阪"}
    ]
  },
  "language_family": {
    "family": "Japonic",
    "branch": "Japanese",
    "subgroup": "Japanese"
  }
}
```

#### 3.1.2 詳細情報（クリック時表示）
```json
{
  "linguistic_features": {
    "writing_systems": ["Hiragana", "Katakana", "Kanji"],
    "word_order": "SOV",
    "phonology": {
      "vowels": 5,
      "consonants": 14,
      "tones": false
    },
    "morphology": "Agglutinative"
  },
  "historical_info": {
    "origin": "日本列島",
    "development_periods": [
      {"period": "古代日本語", "years": "8世紀-12世紀"},
      {"period": "中古日本語", "years": "12世紀-16世紀"}
    ],
    "dialects": ["標準語", "関西弁", "津軽弁"],
    "endangerment_status": "Safe"
  },
  "cultural_context": {
    "official_status": ["Japan"],
    "education": "Primary education medium",
    "media": "Extensive",
    "cultural_importance": "High"
  }
}
```

### 3.2 表示モード

#### 3.2.1 言語ファミリー別表示
- インド・ヨーロッパ語族: 青系
- シナ・チベット語族: 赤系
- ニジェール・コンゴ語族: 緑系
- アフロ・アジア語族: 黄系
- オーストロネシア語族: 紫系
- その他: グレー系

#### 3.2.2 話者数別表示
- 色の濃淡で話者数を表現
- 10億人以上: 濃い色
- 1億人以上: 中程度
- 100万人以上: 薄い色
- 100万人未満: 極薄い色

#### 3.2.3 消滅危惧度別表示
- Safe (安全): 緑
- Vulnerable (脆弱): 黄
- Definitely Endangered (絶滅危惧): オレンジ
- Severely Endangered (深刻な絶滅危惧): 赤
- Critically Endangered (極度に絶滅危惧): 濃赤

#### 3.2.4 文字体系別表示
- ラテン文字: 青
- 漢字: 赤
- アラビア文字: 緑
- キリル文字: 紫
- その他: グレー

### 3.3 インタラクション設計

#### 3.3.1 マップ操作
- **ズーム**: マウスホイール、ズームボタン
- **パン**: ドラッグ&ドロップ
- **クリック**: 地域選択で詳細情報表示
- **ホバー**: 言語名と話者数の簡易表示

#### 3.3.2 検索・フィルタ
- **検索バー**: リアルタイム検索、言語名の部分一致
- **ファミリーフィルタ**: チェックボックス形式
- **地域フィルタ**: 大陸・国別選択
- **話者数フィルタ**: スライダー形式

#### 3.3.3 情報表示
- **サイドパネル**: 詳細情報の表示
- **ポップアップ**: 簡易情報の表示
- **モーダル**: 詳細情報の全画面表示

## 4. 技術仕様

### 4.1 技術スタック

#### 4.1.1 フロントエンド
- **React 18** + **TypeScript**: UI構築
- **Leaflet** + **React-Leaflet**: 地図表示
- **Tailwind CSS**: スタイリング
- **Zustand**: 状態管理
- **React Query**: データフェッチング

#### 4.1.2 バックエンド
- **Node.js** + **Express**: API サーバー
- **PostgreSQL** + **PostGIS**: 地理空間データベース
- **Redis**: キャッシュ
- **Prisma**: ORM

#### 4.1.3 データ処理
- **Python**: データ前処理
- **GeoPandas**: 地理データ処理
- **GDAL**: 地理空間データ変換

#### 4.1.4 インフラ
- **Docker**: コンテナ化
- **AWS/Google Cloud**: ホスティング
- **CDN**: 静的アセット配信

### 4.2 データソース

#### 4.2.1 主要データソース
1. **Ethnologue**: 言語データベース（有料API）
2. **UNESCO Atlas**: 消滅危惧言語
3. **Glottolog**: 言語分類・系統
4. **OpenStreetMap**: 地理データ
5. **Wikipedia**: 多言語情報

#### 4.2.2 データ統合戦略
- 複数ソースの統合・検証
- データ品質の向上
- 定期的なデータ更新

### 4.3 パフォーマンス最適化

#### 4.3.1 地図データ最適化
- ズームレベル別の詳細度調整
- タイルベースの地図表示
- データの事前集約

#### 4.3.2 キャッシュ戦略
- Redis による API レスポンスキャッシュ
- CDN による静的アセットキャッシュ
- ブラウザキャッシュの活用

## 5. 開発フェーズ

### 5.1 Phase 1: MVP開発（基本機能）
**期間**: 3-4ヶ月

#### 5.1.1 基本機能
- 世界地図表示（Leaflet）
- 言語ファミリー別色分け
- 基本検索機能
- 地域クリック時の言語情報表示
- レスポンシブデザイン

#### 5.1.2 データ範囲
- 主要言語1000言語程度
- 国家レベルでの言語分布

### 5.2 Phase 2: 機能拡張
**期間**: 2-3ヶ月

#### 5.2.1 追加機能
- 詳細情報表示
- 複数表示モード
- 高度なフィルタリング
- 時系列表示

#### 5.2.2 データ拡張
- 言語データ5000言語以上
- 都市・村落レベルでの分布

### 5.3 Phase 3: 最適化・拡張
**期間**: 2-3ヶ月

#### 5.3.1 最適化
- パフォーマンス改善
- データベース最適化
- UI/UX改善

#### 5.3.2 将来拡張準備
- 他学問分野への拡張基盤
- モバイルアプリ対応準備

## 6. UI/UX設計指針

### 6.1 デザイン原則
- **直感的操作**: 迷わずに情報にアクセス
- **視覚的階層**: 重要な情報を優先表示
- **レスポンシブ**: 全デバイスで最適な体験
- **アクセシビリティ**: 多様なユーザーの利用を支援

### 6.2 画面構成
- **ヘッダー**: ロゴ、検索バー、設定
- **メインエリア**: 地図表示
- **サイドパネル**: フィルタ、詳細情報
- **フッター**: データソース、著作権情報

### 6.3 カラーパレット
- **プライマリ**: 深い青（#1e3a8a）
- **セカンダリ**: 緑（#059669）
- **アクセント**: オレンジ（#ea580c）
- **背景**: 白・グレー（#f8fafc, #64748b）

## 7. 品質保証

### 7.1 テスト戦略
- **ユニットテスト**: コンポーネント・関数レベル
- **統合テスト**: API・データベース連携
- **E2Eテスト**: ユーザーフロー全体
- **パフォーマンステスト**: 大量データでの動作確認

### 7.2 データ品質
- 複数ソースの検証
- 定期的なデータ更新
- ユーザーフィードバックによる改善

## 8. 運用・保守

### 8.1 監視
- **アプリケーション監視**: レスポンス時間、エラー率
- **インフラ監視**: サーバーリソース、データベース性能
- **ユーザー行動分析**: 利用状況、人気機能

### 8.2 更新・メンテナンス
- **データ更新**: 月次での言語データ更新
- **機能改善**: ユーザーフィードバックに基づく改善
- **セキュリティ**: 定期的なセキュリティアップデート

## 9. 将来展望

### 9.1 機能拡張
- 他の学問分野（歴史学、人類学等）への拡張
- AR機能の追加
- ソーシャル機能（ユーザー間の情報共有）

### 9.2 プラットフォーム拡張
- モバイルアプリ開発
- API の外部提供
- 教育機関との連携

---

**作成日**: 2025年1月
**バージョン**: 1.0
**サービス名**: Rinzo
**リポジトリ**: rinzo
**作成者**: AI Assistant
